<!DOCTYPE html>
<html lang="en">

<head>
    <title>WebLogo 3 - Create </title>
    <!--base responsive code-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--original meta data-->
    <meta name="author" content="Gavin E. Crooks">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <link rel="stylesheet" type="text/css" href="logo.css">
    <title>WebLogo Create Layout Template</title>
    <!--styling for error message for sequence input-->
    <style type="text/css">
    .error {
        color: #900;
        border-left: red solid +4pt;
    }
    
    .err_msg {
        color: #900;
    }
    
    .err_msg .btn {
        color: #000;
    }
    </style>
    <!--jquery libraries-->
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <!-- ========Start Bootstrap dependencies ==========-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <!-- ========= end Bootstrap dependencies======= -->
    <!--Dropbox APIs-->
    <!--================================================== -->
    <script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="iincngjgmknhfxs">
    //this API chooses file from dropbox
    </script>
</head>

<body>
    <!--Navigation-->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">WebLogo 3</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="index.html">home</a></li>
                    <li class="active"><a href="create.cgi">create</a></li>
                    <li><a href="examples.html">examples</a></li>
                    <li><a href="manual.html">manual</a></li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </div>
    <!--end Navigation-->
    <div class="container-fluid">
        <!--start fluid container for responsive content-->
        <div class="row">
            <!--outermost row container-->
            <h1><p class="text-center"> WebLogo 3: Create</p></h1>
            <form enctype="multipart/form-data" action="create.cgi" name="logoform" method="post">
                <!--start WebLogo form-->
                <div class="row">
                    <!--open sequence data form row-->
                    <div class="col-sm-1">
                        <br>
                    </div>
                    <!--left margin column for sequence data form -->
                    <div class="col-sm-10">
                        <!--central column for sequence data form-->
                        <div class="thumbnail clearfix" id="thumbnail-1">
                            <!--open thumbnail 1 div-->
                            <h2> Sequence Data Input:</h2>
                            <hr>
                            <div class="form-group clearfix" "row">
                                <!--start clearfix div for browse & dropbox & google buttons-->
                                <div class="col-sm-4">
                                    <!--Button browse files for upload div-->
                                    <a class="btn btn-default btn-sm" onclick="$('#sequence-file').click();"> <span class=" glyphicon glyphicon-folder-open"></span>&nbsp&nbsp&nbsp Browse</a>
                                </div>
                                <!--end .col-sm-2 button browse files for upload div-->
                                <div class="form-group col-sm-4" id="dropbox-container">
                                    <!--start dropbox-container; dropbox button icon appears in this div -->
                                    <input type="checkbox" name="selected-file" style="display: none;" />
                                    <!--Jquery to show dropbox in id=dropbox-container div-->
                                    <script type="text/javascript">

                                    </script>
                                    <!--end Dropbox scripts-->
                                </div>
                                <!--end dropbox-container div-->
                                <div class="form-group col-sm-4" id="download-by-URL">
                                    <!--start URL download container div-->

                                       
            <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">@getbootstrap/ open URL </button>
            <!--start modal pop up-->
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">

                  <div class="modal-header"><!--modal header-->
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="exampleModalLabel">Open from URL</h4>
                  </div> <!--end modal header-->

                  <div class="modal-body"> <!--data from modal goes here-->
                    <form>
                      <div class="form-group">
                        <label for="recipient-name" class="control-label">Paste URL:</label>
                        <input type="text" class="form-control" id="download-url">
                      </div>
                      <div class="form-group">
                        <label for="message-text" class="control-label">Data:</label>
                        <textarea class="form-control" id="message-text"></textarea>
                      </div>
                    </form>
                  </div> <!--end data from modal goes here-->

                  <div class="modal-footer"> <!--start modal footer-->
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Open URL</button>
                  </div> <!--end modal footer-->
                </div>

              </div>
            </div> <!--end modal pop up-->

            <!--jquery to pass data from modal to python controller popup-->
            <script>
            $('#exampleModal').on('show.bs.modal', function (event) {
              var button = $(event.relatedTarget) // Button that triggered the modal
              var recipient = button.data('whatever') // Extract info from data-* attributes
              // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
              // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
              {
                $.ajax({
                        url: ".../urllib_test.py",
                        type: "GET", "POST"
                        datatype:"text",
                        data: modal.find("#download-url"),
                        success: function(response){
                            alert(response.message("url successfully sent"));

                        success: function(response) {
                            alert(response.message)
                        }

                            
              }
              var modal = $(this)
              modal.find('.modal-title').text('Open URL Here ')
              modal.find('.modal-body input').val(recipient)
            })
            </script> <!--end jquery to pass data from modal popup//-->

                                                        
                                </div> <!--end URL download container div-->
                            </div>
                            <!--end clearfix div for browse & dropbox buttons-->
                            <div class="form-group">
                                <!--open paste seqence data textbox div-->
                                <label class="err_msg">${error_message}</label>
                                <textarea type="text" class="form-control" id="sequence-data" name="sequences" style="width:100%" placeholder="Or Paste Sequence Data Here">${sequences}
                                </textarea>
                            </div>
                            <!--close paste seqence data textbox-->
                            <div class="form-group row">
                                <!--Start clearfix div for Download and Dropbox button-->
                                <div class="col-sm-10">
                                    <!--start create&clear button column-->
                                    <div class="form-group">
                                        <!--open create&clear button div-->
                                        <button class="btn btn-success btn-md" type="submit" name="cmd_create">
                                            <span class="glyphicon glyphicon-ok"></span> Create WebLogo
                                        </button>
                                        <button type="button" class="btn btn-default" name="cmd_clear" onclick="document.logoform.sequences.value='';"> Clear</button>
                                    </div>
                                    <!-- end create&clear button div-->
                                </div>
                                <!--end .col-sm-6 create&clear button column-->
                                <div class="col-sm-2">
                                    <!--start spacing div for download/email checkboxes-->
                                    <div>
                                        <!--start download checkbox div-->
                                        <label>
                                            <input type="checkbox" name="download" value="false">Download to local drive
                                        </label>
                                    </div>
                                    <!--end download checkbox div div-->
                                </div>
                            </div>
                            <!--End clearfix row div for Download and Dropbox button-->
                        </div>
                        <!--end clearfix #thumbnail-1 div-->
                    </div>
                    <!--end col-sm-10 central column for sequence data form-->
                    <div class="col-sm-1"> <!--start margin row for sequence data form-->
                        <br>
                    </div><!--end margin row for sequence data form-->

                </div>
                <!--end sequence data form row-->

                    <script>
    if (typeof jQuery == 'undefined') {
        //fallback for JQuery
        document.write(unescape("%3Cscript src='.../scripts/jquery-1.11.3/jquery-1.11.3.min.js' type='text/javascript'%3E%3C/script%3E"));

        //fallback for Fluidbox
        document.write(unescape("%3Cscript src='.../scripts/fluidbox/jjquery.fluidbox.js' type='text/javascript'%3E%3C/script%3E"));
        document.write(unescape("%3Cscript src='.../scripts/fluidbox/jjquery.fluidbox.min.js' type='text/javascript'%3E%3C/script%3E"));

        //fallback for Bootstrap
        document.write(unescape("%3Cscript src='.../scripts/bootstrap-3.3.5-dist/js/bootstrap.js' type='text/javascript'%3E%3C/script%3E"));
        document.write(unescape("%3Cscript src='.../scripts/bootstrap-3.3.5-dist/js/bootstrap.min.js' type='text/javascript'%3E%3C/script%3E"));
        document.write(unescape("%3Clink rel='stylesheet' src='.../scripts/bootstrap-3.3.5-dist/css/bootstrap.min.css' %3Clink"));
        document.write(unescape("%3Clink rel='stylesheet' src='.../scripts/bootstrap-3.3.5-dist/css/bootstrap-theme.min.css' %3Clink"));
    }
    </script>
    <!--Google analytics-->
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-5951066-1");
    pageTracker._trackPageview();
    </script>
    
</body>
</html>